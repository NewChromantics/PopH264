<html>
<head>
</head>
<body>
<canvas />

<script type=module>
import * as PopH264 from './PopH264.js'

async function DecodeTestData()
{
	const H264Data = PopH264.GetTestData('RainbowGradient.h264');
	const Decoder = PopH264.CreateDecoder();
	Decoder.PushData(H264Data,0);
	
	const Canvas = document.querySelector('canvas');
	const CanvasContext = Canvas.getContext('2d');
	
	while ( true )
	{
		const NewFrame = await Decoder.WaitForNextFrame();
		console.log(`NewFrame: `, NewFrame);
		
		//	html5 lets us draw straight to canvases
		CanvasContext.drawImage(NewFrame,0,0);
	}
}
DecodeTestData();
</script>
</body>
</html>

